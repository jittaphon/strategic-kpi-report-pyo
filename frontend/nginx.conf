# frontend/nginx.conf
server {
    listen 80;
    root /usr/share/nginx/html;
    index index.html;
    location / {
        try_files $uri $uri/ /index.html;
    }
    # สำคัญ: Proxy requests ที่มี prefix /api/ ไปยัง Backend Container
    location /api/ {
        proxy_pass http://backend:80; # 'backend' คือชื่อ service ใน docker-compose.yml, ':80' คือพอร์ต Nginx ใน backend container
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    # คุณต้องแน่ใจว่า React Frontend ของคุณเรียก API ที่มี /api/ นำหน้า (เช่น /api/tele_med)
    # และ Lumen Routes ของคุณก็ต้องมี Prefix /api/ ด้วย (เป็นวิธีที่แนะนำที่สุด)
}